const account = {
    account: [
        {
            id: "438911113",
            nickname: "-",
        },
        {
            id: "438911091",
            nickname: "-",
        },
        {
            id: "438914981",
            nickname: "-",
        },
        {
            id: "438916960",
            nickname: "-",
        },
        {
            id: "438917666",
            nickname: "-",
        },
        {
            id: "438919158",
            nickname: "-",
        },
        {
            id: "438919101",
            nickname: "-",
        },
        {
            id: "438943886",
            nickname: "-",
        },
        {
            id: "438949441",
            nickname: "-",
        },
        {
            id: "438949461",
            nickname: "-",
        },
        {
            id: "438918910",
            nickname: "-",
        },
        {
            id: "464545465",
            nickname: "-",
        },
        {
            id: "464539999",
            nickname: "-",
        },
        {
            id: "464349999",
            nickname: "-",
        },
        {
            id: "444111711",
            nickname: "-",
        },
        {
            id: "499222212",
            nickname: "-",
        },
        {
            id: "499242422",
            nickname: "-",
        },
        {
            id: "499242423",
            nickname: "-",
        },
        {
            id: "499242424",
            nickname: "-",
        },
        {
            id: "425725822",
            nickname: "-",
        },
        {
            id: "426662493",
            nickname: "-",
        },
        {
            id: "433300876",
            nickname: "-",
        },
        {
            id: "439285436",
            nickname: "-",
        },
        {
            id: "438915922",
            nickname: "-",
        },
        {
            "id": "507942299",
            "nickname": "-"
        },
        {
            "id": "508490168",
            "nickname": "-"
        },
    {
      id: "508356172",
      nickname: "-",
    },
    {
      id: "508366165",
      nickname: "-",
    },
    {
      id: "529300248",
      nickname: "-",
    },
    {
      id: "531047078",
      nickname: "-",
    },
    {
      id: "529289304",
      nickname: "-",
    },
    {
      id: "AKUN BARU",
      nickname: "-",
    },
    {
      id: "293231072",
      nickname: "-",
    },
    {
      id: "315855287",
      nickname: "-",
    },
    {
      id: "315729634",
      nickname: "-",
    },
    {
      id: "289606876",
      nickname: "-",
    },
    {
      id: "315485754",
      nickname: "-",
    },
    {
      id: "289563130",
      nickname: "-",
    },
    {
      id: "315270509",
      nickname: "-",
    },
    {
      id: "288745444",
      nickname: "-",
    },
    {
      id: "315101842",
      nickname: "-",
    },
    {
      id: "272235450",
      nickname: "-",
    },
    {
      id: "299312511",
      nickname: "-",
    },
    {
      id: "317238226",
      nickname: "-",
    },
    {
      id: "316506092",
      nickname: "-",
    },
    {
      id: "279561052",
      nickname: "-",
    },
    {
      id: "298847687",
      nickname: "-",
    },
    {
      id: "316436425",
      nickname: "-",
    },
    {
      id: "316113504",
      nickname: "-",
    },
    {
      id: "298800707",
      nickname: "-",
    },
    {
      id: "315955357",
      nickname: "-",
    },
    {
      id: "293230796",
      nickname: "-",
    },
    {
      id: "300530668",
      nickname: "-",
    },
    {
      id: "317243655",
      nickname: "-",
    },
    {
      id: "300205800",
      nickname: "-",
    },
    {
      id: "318844175",
      nickname: "-",
    },
    {
      id: "318618149",
      nickname: "-",
    },
    {
      id: "299876282",
      nickname: "-",
    },
    {
      id: "299704079",
      nickname: "-",
    },
    {
      id: "318568286",
      nickname: "-",
    },
    {
      id: "299636860",
      nickname: "-",
    },
    {
      id: "318212261",
      nickname: "-",
    },
    {
      id: "301771652",
      nickname: "-",
    },
    {
      id: "301616799",
      nickname: "-",
    },
    {
      id: "301511043",
      nickname: "-",
    },
    {
      id: "319581593",
      nickname: "-",
    },
    {
      id: "301428333",
      nickname: "-",
    },
    {
      id: "319482226",
      nickname: "-",
    },
    {
      id: "301063340",
      nickname: "-",
    },
    {
      id: "300531296",
      nickname: "-",
    },
    {
      id: "319372749",
      nickname: "-",
    },
    {
      id: "319298307",
      nickname: "-",
    },
    {
      id: "302592656",
      nickname: "-",
    },
    {
      id: "320258226",
      nickname: "-",
    },
    {
      id: "302369471",
      nickname: "-",
    },
    {
      id: "316490934",
      nickname: "-",
    },
    {
      id: "302274872",
      nickname: "-",
    },
    {
      id: "320119438",
      nickname: "-",
    },
    {
      id: "302191778",
      nickname: "-",
    },
    {
      id: "301936860",
      nickname: "-",
    },
    {
      id: "320091154",
      nickname: "-",
    },
    {
      id: "319775341",
      nickname: "-",
    },
    {
      id: "314349104",
      nickname: "-",
    },
    {
      id: "323148920",
      nickname: "-",
    },
    {
      id: "304145398",
      nickname: "-",
    },
    {
      id: "322758678",
      nickname: "-",
    },
    {
      id: "303996911",
      nickname: "-",
    },
    {
      id: "303691525",
      nickname: "-",
    },
    {
      id: "322632852",
      nickname: "-",
    },
    {
      id: "322435132",
      nickname: "-",
    },
    {
      id: "303131904",
      nickname: "-",
    },
    {
      id: "322264638",
      nickname: "-",
    },
    {
      id: "325422502",
      nickname: "-",
    },
    {
      id: "325381465",
      nickname: "-",
    },
    {
      id: "304656688",
      nickname: "-",
    },
    {
      id: "305180730",
      nickname: "-",
    },
    {
      id: "304657156",
      nickname: "-",
    },
    {
      id: "304653899",
      nickname: "-",
    },
    {
      id: "323871118",
      nickname: "-",
    },
    {
      id: "323633582",
      nickname: "-",
    },
    {
      id: "304489291",
      nickname: "-",
    },
    {
      id: "304366122",
      nickname: "-",
    },
    {
      id: "330181477",
      nickname: "-",
    },
    {
      id: "307147563",
      nickname: "-",
    },
    {
      id: "306445781",
      nickname: "-",
    },
    {
      id: "306360573",
      nickname: "-",
    },
    {
      id: "327345782",
      nickname: "-",
    },
    {
      id: "306264960",
      nickname: "-",
    },
    {
      id: "325441010",
      nickname: "-",
    },
    {
      id: "306042847",
      nickname: "-",
    },
    {
      id: "325439752",
      nickname: "-",
    },
    {
      id: "305669588",
      nickname: "-",
    },
    {
      id: "332531619",
      nickname: "-",
    },
    {
      id: "306677947",
      nickname: "-",
    },
    {
      id: "332533472",
      nickname: "-",
    },
    {
      id: "306543301",
      nickname: "-",
    },




    ],
};

const tableAccount = document.getElementById("table-account");
const totalAccount = document.getElementById("total-account");
totalAccount.innerHTML = account.account.length

for (let i = 0; i < account.account.length; i++) {
    const id = account.account[i].id;
    const nickname = account.account[i].nickname;

    const row = document.createElement("tr");
    const colCheck = document.createElement("td");
    const divContainerCheck = document.createElement("div");
    const divCheck = document.createElement("div");
    const check = document.createElement("input");

    const colId = document.createElement("td");
    const divId = document.createElement("div");
    const pId = document.createElement("p");

    const colNick = document.createElement("td");
    colNick.setAttribute("class", "");

    const colNumber = document.createElement("td");
    colNumber.setAttribute("class", "");


    const divNick = document.createElement("div");
    divNick.setAttribute("class", "flex items-center");

    const divNumber = document.createElement("div");
    divNumber.setAttribute("class", "flex items-center");

    const pNick = document.createElement("p");
    pNick.setAttribute("class", "text-sm leading-none text-gray-600 ml-2");

    const pNumber = document.createElement("p");
    pNumber.setAttribute("class", "text-sm leading-none text-gray-600 ml-2");

    pNumber.innerHTML = i + 1;

    divId.setAttribute("class", "flex items-center pl-5");
    pId.setAttribute("class", "text-base leading-none text-gray-700 mr-2");

    const colCopy = document.createElement("td");
    colCopy.setAttribute("class", "flex flex-row justify-end mr-2 py-2");

    const btnCopy = document.createElement("button");
    btnCopy.setAttribute(
        "class",
        "ml-auto focus:ring-2 focus:ring-offset-2 focus:ring-red-300 text-sm leading-none text-gray-600 py-3 px-5 bg-gray-100 rounded hover:bg-gray-200 focus:outline-none"
    );
    btnCopy.setAttribute("id", "btn-copy" + i);

    btnCopy.innerHTML = "Copy";

    colCopy.appendChild(btnCopy);

    pId.innerHTML = id;
    divId.appendChild(pId);
    colId.appendChild(divId);

    divNick.appendChild(pNick);
    colNick.appendChild(divNick);

    divNumber.appendChild(pNumber);
    colNumber.appendChild(divNumber);

    check.setAttribute("type", "checkbox");
    check.setAttribute("id", "check" + i);
    check.setAttribute("name", "check" + i);
    check.setAttribute(
        "class",
        "focus:opacity-100 checkbox absolute cursor-pointer w-full h-full"
    );

    divContainerCheck.setAttribute("class", "ml-5");
    divCheck.setAttribute(
        "class",
        "bg-gray-200 rounded-sm w-5 h-5 flex flex-shrink-0 justify-center items-center relative"
    );

    divCheck.appendChild(check);
    divContainerCheck.appendChild(divCheck);

    row.setAttribute("tabindex", i);
    row.setAttribute("id", "row" + i);
    row.setAttribute("class", "focus:outline-none rounded");
    colCheck.appendChild(divContainerCheck);
    colNick.innerHTML = nickname;

    row.appendChild(colNumber);
    row.appendChild(colId)
    row.appendChild(colNick);

    row.appendChild(colCheck);
    row.appendChild(colCopy);
    tableAccount.appendChild(row);

    const isChecked = document.getElementById("check" + i);

    btnCopy.addEventListener("click", () => {
        navigator.clipboard.writeText(id);
        isChecked.checked = true;
        document.getElementById("row" + i).classList.add("bg-indigo-200");
    });

    isChecked.addEventListener("change", () => {
        document.getElementById("row" + i).classList.remove("bg-indigo-200");
    });
}
